<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WFPB Recipe Collection</title>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,600;1,9..144,300&family=Newsreader:ital,wght@0,300;0,400;1,300&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root {
            --cream: #FBF8F3;
            --dark-green: #1A3A2E;
            --sage: #7A9D7A;
            --terracotta: #C17855;
            --warm-white: #FFFEF9;
            --charcoal: #2C2C2C;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Newsreader', serif;
            background: var(--cream);
            color: var(--charcoal);
            line-height: 1.7;
            overflow-x: hidden;
        }

        .header {
            background: var(--dark-green);
            color: var(--warm-white);
            padding: 4rem 2rem 3rem;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(122, 157, 122, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(193, 120, 85, 0.15) 0%, transparent 50%);
            pointer-events: none;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        h1 {
            font-family: 'Fraunces', serif;
            font-size: clamp(2.5rem, 6vw, 5rem);
            font-weight: 300;
            font-optical-sizing: auto;
            letter-spacing: -0.02em;
            margin-bottom: 1rem;
            animation: slideDown 0.8s ease-out;
        }

        .subtitle {
            font-size: 1.1rem;
            font-style: italic;
            opacity: 0.9;
            animation: fadeIn 1s ease-out 0.3s both;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .search-container {
            max-width: 1200px;
            margin: -2rem auto 3rem;
            padding: 0 2rem;
            position: relative;
            z-index: 10;
            animation: fadeIn 1s ease-out 0.5s both;
        }

        .search-box {
            position: relative;
            background: var(--warm-white);
            border-radius: 16px;
            box-shadow: 
                0 10px 40px rgba(26, 58, 46, 0.15),
                0 2px 8px rgba(26, 58, 46, 0.08);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .search-box:focus-within {
            box-shadow: 
                0 15px 50px rgba(26, 58, 46, 0.2),
                0 5px 15px rgba(26, 58, 46, 0.12);
            transform: translateY(-2px);
        }

        #searchInput {
            width: 100%;
            padding: 1.5rem 4rem 1.5rem 2rem;
            border: none;
            font-size: 1.1rem;
            font-family: 'Newsreader', serif;
            background: transparent;
            color: var(--charcoal);
        }

        #searchInput::placeholder {
            color: #999;
            font-style: italic;
        }

        #searchInput:focus {
            outline: none;
        }

        .search-icon {
            position: absolute;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--sage);
            font-size: 1.3rem;
            pointer-events: none;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .recipe-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 2.5rem;
            animation: fadeIn 1s ease-out 0.7s both;
        }

        .recipe-card {
            background: var(--warm-white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.06),
                0 1px 4px rgba(0, 0, 0, 0.04);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
        }

        .recipe-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--sage), var(--terracotta));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.4s ease;
        }

        .recipe-card:hover {
            transform: translateY(-8px);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.12),
                0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .recipe-card:hover::before {
            transform: scaleX(1);
        }

        .recipe-card.hidden {
            display: none;
        }

        .recipe-header {
            padding: 2rem 2rem 1.5rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
        }

        .recipe-card h2 {
            font-family: 'Fraunces', serif;
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--dark-green);
            margin-bottom: 0.75rem;
            line-height: 1.3;
        }

        .recipe-meta {
            display: flex;
            gap: 1.5rem;
            font-size: 0.9rem;
            color: #666;
            margin-top: 1rem;
        }

        .recipe-meta span {
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .recipe-body {
            padding: 1.5rem 2rem 2rem;
        }

        .recipe-description {
            color: #555;
            margin-bottom: 1.5rem;
            font-style: italic;
        }

        .recipe-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .tag {
            background: var(--sage);
            color: var(--warm-white);
            padding: 0.35rem 0.9rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 400;
        }

        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            color: #666;
            font-style: italic;
            animation: fadeIn 0.5s ease-out;
        }

        .no-results.hidden {
            display: none;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 58, 46, 0.95);
            z-index: 1000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease-out;
        }

        .modal.active {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 2rem;
        }

        .modal-content {
            background: var(--warm-white);
            max-width: 800px;
            width: 100%;
            margin: 2rem auto;
            border-radius: 16px;
            position: relative;
            animation: slideDown 0.4s ease-out;
        }

        .modal-header {
            background: var(--dark-green);
            color: var(--warm-white);
            padding: 3rem 3rem 2rem;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h2 {
            font-family: 'Fraunces', serif;
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--warm-white);
        }

        .close-modal {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: var(--warm-white);
            font-size: 2rem;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 3rem;
        }

        .modal-body h3 {
            font-family: 'Fraunces', serif;
            font-size: 1.5rem;
            color: var(--dark-green);
            margin: 2rem 0 1rem;
        }

        .modal-body ul, .modal-body ol {
            margin-left: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .modal-body li {
            margin-bottom: 0.75rem;
            padding-left: 0.5rem;
        }

        .modal-body p {
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .recipe-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                margin: 0;
                border-radius: 0;
            }

            .modal-header,
            .modal-body {
                padding: 2rem 1.5rem;
            }
        }

        .add-recipe-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--terracotta);
            color: var(--warm-white);
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 2rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(193, 120, 85, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .add-recipe-btn:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 6px 30px rgba(193, 120, 85, 0.5);
        }

        .footer {
            text-align: center;
            padding: 3rem 2rem;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            margin-top: 4rem;
        }

        .footer a {
            color: var(--sage);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: var(--terracotta);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <h1>Whole Food Plant-Based</h1>
            <p class="subtitle">Nourishing recipes from nature's garden</p>
        </div>
    </header>

    <div class="search-container">
        <div class="search-box">
            <input 
                type="text" 
                id="searchInput" 
                placeholder="Search recipes by ingredient, tag, or description..."
                autocomplete="off"
            >
            <span class="search-icon">üîç</span>
        </div>
    </div>

    <main class="container">
        <div id="recipeGrid" class="recipe-grid"></div>
        <div id="noResults" class="no-results hidden">
            No recipes found. Try a different search term.
        </div>
    </main>

    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close-modal" onclick="closeModal()">&times;</button>
                <h2 id="modalTitle"></h2>
                <div class="recipe-meta" id="modalMeta"></div>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <button class="add-recipe-btn" onclick="showInstructions()" title="How to add recipes">+</button>

    <footer class="footer">
        <p>Add new recipes by creating markdown files in the <code>recipes/</code> folder</p>
        <p><a href="https://github.com" target="_blank">View on GitHub</a></p>
    </footer>

    <script>
        const recipes = [];

        // Recipe data from markdown files
        const recipeMarkdown = [
            {
                filename: 'creamy-butternut-soup.md',
                content: `---
title: Creamy Butternut Squash Soup
prepTime: 15 min
cookTime: 35 min
servings: 6
tags: [soup, comfort food, gluten-free, fall]
---

A velvety, naturally sweet soup that's perfect for cool evenings. This recipe gets its creaminess from the butternut squash itself - no dairy needed.

## Ingredients

- 1 large butternut squash (about 3 lbs), peeled and cubed
- 1 large yellow onion, chopped
- 3 cloves garlic, minced
- 4 cups vegetable broth
- 1 can (14 oz) coconut milk
- 2 tsp fresh ginger, grated
- 1 tsp ground cumin
- 1/2 tsp cinnamon
- 1/4 tsp nutmeg
- Salt and pepper to taste
- Fresh thyme for garnish
- Toasted pumpkin seeds (optional)

## Instructions

1. In a large pot, saut√© onion in a splash of vegetable broth until softened, about 5 minutes.
2. Add garlic and ginger, cook for 1 minute until fragrant.
3. Add butternut squash, remaining broth, and spices. Bring to a boil.
4. Reduce heat and simmer for 25-30 minutes until squash is very tender.
5. Add coconut milk and blend until completely smooth using an immersion blender.
6. Season with salt and pepper. Serve garnished with fresh thyme and pumpkin seeds.

## Notes

This soup freezes beautifully for up to 3 months. The natural sweetness pairs wonderfully with a drizzle of balsamic reduction.`
            },
            {
                filename: 'mediterranean-quinoa-bowl.md',
                content: `---
title: Mediterranean Quinoa Bowl
prepTime: 10 min
cookTime: 20 min
servings: 4
tags: [bowl, mediterranean, protein-rich, quick]
---

A colorful, protein-packed bowl inspired by Mediterranean flavors. Perfect for meal prep - these bowls stay fresh in the fridge for up to 4 days.

## Ingredients

### For the quinoa:
- 1 cup quinoa, rinsed
- 2 cups vegetable broth
- 1/2 tsp dried oregano

### For the bowl:
- 2 cups cherry tomatoes, halved
- 1 cucumber, diced
- 1 cup chickpeas, drained and roasted
- 1/2 red onion, thinly sliced
- 1 cup kalamata olives, pitted
- 1 cup fresh parsley, chopped
- 1/4 cup fresh mint, chopped

### For the dressing:
- 1/4 cup tahini
- 2 tbsp lemon juice
- 1 clove garlic, minced
- 2-3 tbsp water to thin
- Salt and pepper to taste

## Instructions

1. Cook quinoa in vegetable broth with oregano according to package directions. Fluff and let cool.
2. While quinoa cooks, roast chickpeas at 400¬∞F for 20 minutes until crispy.
3. Whisk together all dressing ingredients until smooth and creamy.
4. Divide quinoa among bowls. Top with tomatoes, cucumber, chickpeas, onion, and olives.
5. Drizzle with tahini dressing and garnish with fresh herbs.

## Notes

To roast chickpeas: toss with a pinch of paprika, cumin, and salt before roasting. They add wonderful crunch to the bowl.`
            },
            {
                filename: 'mango-nice-cream.md',
                content: `---
title: Tropical Mango Nice Cream
prepTime: 5 min
cookTime: 0 min
servings: 2
tags: [dessert, frozen, no-cook, tropical]
---

A naturally sweet frozen treat that tastes indulgent but is just fruit! This simple recipe proves you don't need dairy for incredible ice cream.

## Ingredients

- 3 ripe bananas, sliced and frozen
- 2 cups frozen mango chunks
- 1/4 cup coconut milk (plus more if needed)
- 1 tsp vanilla extract
- 1 tbsp lime juice
- Pinch of turmeric (for color, optional)

### Optional toppings:
- Fresh mango chunks
- Toasted coconut flakes
- Crushed macadamia nuts
- Fresh mint leaves

## Instructions

1. Let frozen fruit sit at room temperature for 5 minutes to soften slightly.
2. Add bananas, mango, coconut milk, vanilla, and lime juice to a high-speed blender or food processor.
3. Blend until completely smooth and creamy, stopping to scrape down sides as needed. Add more coconut milk if too thick.
4. Serve immediately for soft-serve consistency, or freeze for 1-2 hours for firmer texture.
5. Scoop into bowls and add desired toppings.

## Notes

For best results, use very ripe bananas before freezing. The riper they are, the sweeter your nice cream will be. This also works beautifully with other tropical fruits like pineapple or passion fruit.`
            },
            {
                filename: 'lentil-walnut-tacos.md',
                content: `---
title: Lentil Walnut Tacos
prepTime: 10 min
cookTime: 25 min
servings: 4
tags: [tacos, mexican, protein-rich, family-friendly]
---

These hearty tacos have an amazing meaty texture from the lentil-walnut combination. Even meat-lovers will be impressed by how satisfying these are!

## Ingredients

### For the filling:
- 1 cup brown or green lentils, cooked
- 1 cup walnuts, finely chopped
- 1 tbsp tomato paste
- 2 tsp cumin
- 2 tsp chili powder
- 1 tsp smoked paprika
- 1/2 tsp oregano
- 1/4 tsp cayenne (optional)
- 1 cup vegetable broth
- 2 cloves garlic, minced
- Salt and pepper to taste

### For serving:
- 8 corn or whole wheat tortillas
- Shredded lettuce or cabbage
- Diced tomatoes
- Sliced avocado or guacamole
- Fresh cilantro
- Lime wedges
- Cashew sour cream (optional)

## Instructions

1. If using dried lentils, cook according to package directions until tender. Drain.
2. In a large skillet, toast walnuts over medium heat for 3-4 minutes until fragrant.
3. Add cooked lentils, tomato paste, all spices, and garlic. Stir to combine.
4. Add vegetable broth and simmer for 10-15 minutes until liquid is absorbed and mixture is thick.
5. Use a potato masher to lightly mash the mixture, leaving some texture.
6. Warm tortillas and fill with lentil-walnut mixture and desired toppings.

## Notes

Make extra filling - it's perfect for taco salads, burrito bowls, or stuffed peppers. The mixture tastes even better the next day as the flavors meld together.`
            }
        ];

        // Parse markdown and create recipe objects
        function parseMarkdown(md) {
            const recipe = {};
            
            // Extract frontmatter
            const frontmatterMatch = md.content.match(/^---\n([\s\S]*?)\n---/);
            if (frontmatterMatch) {
                const frontmatter = frontmatterMatch[1];
                frontmatter.split('\n').forEach(line => {
                    const [key, ...valueParts] = line.split(':');
                    const value = valueParts.join(':').trim();
                    if (key && value) {
                        if (key === 'tags') {
                            recipe[key] = value.replace(/[\[\]]/g, '').split(',').map(t => t.trim());
                        } else {
                            recipe[key] = value;
                        }
                    }
                });
            }

            // Extract description (first paragraph after frontmatter)
            const contentWithoutFrontmatter = md.content.replace(/^---\n[\s\S]*?\n---\n/, '');
            const descMatch = contentWithoutFrontmatter.match(/^(.*?)(?=\n#)/s);
            recipe.description = descMatch ? descMatch[1].trim() : '';

            // Store full content for modal
            recipe.fullContent = contentWithoutFrontmatter;
            
            // Create searchable text
            recipe.searchText = (
                recipe.title + ' ' +
                recipe.description + ' ' +
                (recipe.tags || []).join(' ') + ' ' +
                recipe.fullContent
            ).toLowerCase();

            recipe.filename = md.filename;

            return recipe;
        }

        // Load recipes
        recipeMarkdown.forEach(md => {
            recipes.push(parseMarkdown(md));
        });

        // Render recipe cards
        function renderRecipes(recipesToShow = recipes) {
            const grid = document.getElementById('recipeGrid');
            const noResults = document.getElementById('noResults');
            
            grid.innerHTML = '';
            
            if (recipesToShow.length === 0) {
                noResults.classList.remove('hidden');
                return;
            }
            
            noResults.classList.add('hidden');
            
            recipesToShow.forEach((recipe, index) => {
                const card = document.createElement('div');
                card.className = 'recipe-card';
                card.style.animationDelay = `${index * 0.1}s`;
                
                const tagsHTML = recipe.tags 
                    ? recipe.tags.map(tag => `<span class="tag">${tag}</span>`).join('')
                    : '';
                
                card.innerHTML = `
                    <div class="recipe-header">
                        <h2>${recipe.title}</h2>
                        <div class="recipe-meta">
                            <span>‚è±Ô∏è ${recipe.prepTime}</span>
                            <span>üç≥ ${recipe.cookTime}</span>
                            <span>üçΩÔ∏è ${recipe.servings} servings</span>
                        </div>
                    </div>
                    <div class="recipe-body">
                        <p class="recipe-description">${recipe.description}</p>
                        <div class="recipe-tags">${tagsHTML}</div>
                    </div>
                `;
                
                card.addEventListener('click', () => openModal(recipe));
                grid.appendChild(card);
            });
        }

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase().trim();
            
            if (searchTerm === '') {
                renderRecipes();
                return;
            }
            
            const filtered = recipes.filter(recipe => 
                recipe.searchText.includes(searchTerm)
            );
            
            renderRecipes(filtered);
        });

        // Modal functions
        function openModal(recipe) {
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modalTitle');
            const modalMeta = document.getElementById('modalMeta');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = recipe.title;
            modalMeta.innerHTML = `
                <span>‚è±Ô∏è ${recipe.prepTime}</span>
                <span>üç≥ ${recipe.cookTime}</span>
                <span>üçΩÔ∏è ${recipe.servings} servings</span>
            `;
            modalBody.innerHTML = marked.parse(recipe.fullContent);
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('modal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close modal on background click
        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') {
                closeModal();
            }
        });

        // Close modal on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        function showInstructions() {
            const instructionsRecipe = {
                title: 'How to Add New Recipes',
                prepTime: '2 min',
                cookTime: '0 min',
                servings: '‚àû',
                fullContent: `
## Adding Your Own Recipes

To add a new recipe to this collection, create a new markdown file in the \`recipes/\` folder with the following format:

### File Structure

\`\`\`markdown
---
title: Your Recipe Name
prepTime: 15 min
cookTime: 30 min
servings: 4
tags: [tag1, tag2, tag3]
---

A brief description of your recipe goes here. This will appear on the recipe card.

## Ingredients

- Ingredient 1
- Ingredient 2
- Ingredient 3

## Instructions

1. Step one
2. Step two
3. Step three

## Notes

Any additional tips or variations.
\`\`\`

### Tips

- The frontmatter (between the \`---\`) must include title, prepTime, cookTime, servings, and tags
- Tags make your recipes more searchable
- The first paragraph after frontmatter becomes the card description
- Use markdown headings (\`##\`) to organize sections
- Save your file with a descriptive name like \`chocolate-avocado-mousse.md\`

### Updating the Site

After adding your markdown file to the \`recipes/\` folder, you'll need to update the \`recipeMarkdown\` array in \`index.html\` to include your new recipe. Copy one of the existing recipe objects and modify it with your new content.

For a more automated solution, consider using a static site generator like Jekyll or a simple build script to automatically load all markdown files from the recipes folder.
`
            };
            openModal(instructionsRecipe);
        }

        // Initial render
        renderRecipes();
    </script>
</body>
</html>
